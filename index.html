<!DOCTYPE html>
<html>
<body>
    <style type="text/css">
        .button {
            background-color: #4CAF50;
            /* Green */
            border: none;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            width: 50%;
            margin: 25%;
        }
    </style>
<form  id="postData">
        <div>
            <input type="text" name="" id="tittle">
        </div>
        <div>
            <textarea name="" id="body" cols="20" rows="5"></textarea>
        </div>
        <input type="submit" value="SEND POST" >
    </form>
    
 <script type="text/javascript">
 
(function (d, s, id) {
	var js, fjs = d.getElementsByTagName(s)[0];
	if (d.getElementById(id)) { return; }
	js = d.createElement(s); js.id = id;
	js.src = "//connect.facebook.com/en_US/messenger.Extensions.js";
	fjs.parentNode.insertBefore(js, fjs);
}(document, "script", "Messenger"));
	var psid;
	window.extAsyncInit = function () {
	// the Messenger Extensions JS SDK is done loading
	MessengerExtensions.getUserID(function success(uids) {
	psid = uids.psid;//This is your page scoped sender_id
	alert("Heroku calling--"+ psid);		
    }, function error(err) {
        alert("Messenger Extension Error: " + err);
    });
}
document.getElementById('postData').addEventListener('submit', postData);

function postData(event){
	event.preventDefault();

	var tittle = document.getElementById('tittle').value;
	var body = document.getElementById('body').value;

	fetch('https://guarded-bastion-64052.herokuapp.com/sendOnWebviewSenderId', {
		method: 'POST',
		headers : new Headers(),
		body:JSON.stringify({tittle:tittle, body:body})
	}).then((res) => res.json())
	.then((data) =>  console.log(data))
	.catch((err)=>console.log(err))
}
		
  
	
    </script>
</body>

</html>